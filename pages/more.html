<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<title>新房网_佛山房产_佛山楼盘_佛山新房_佛山房价_佛山买房【采房网】</title>
		<link rel="icon" href="./../img/logo1.png" type="image/x-icon">
		<link rel="stylesheet" type="text/css" href="../layui-v2.5.5/layui/css/layui.css" media="all"/>
		<link rel="stylesheet" href="../css/detail.css">
		<style type="text/css">
			html,body{
				width: 100%;
				height: 100%;
				padding: 0px;
				margin: 0px;
			}
			a{
				text-decoration: none;
			}
			li{
				list-style: none;
			}
			li span{
				display: inline-block;
				width: 100px;
			}
			.type-filter{
				width: 1178px;
				margin: auto;
				padding: 30px;
			}
			
			.type-filter li{
				padding: 10px 0px;
			}
			
			.type-filter li input[type='radio']{
				margin-left: 5px;
			}
			
			.order-box{
				width: 1178px;
				margin: auto;
			}
			
			.order-item{
				display: flex;
				padding: 30px 0px;
				border-bottom: 1px solid #eee;
			}
			
			.order-item:hover{
				background: #F8F8F8;
			}
			
			.order-item div:nth-child(2){
				display: flex;
				flex-direction: column;
				justify-content: space-between;
			}
		</style>
	</head>
	<body>
		<!--导航栏--->
		<div class="detail-nav">
			<div class="topNav">
			 		    <div class="topNav-left">
			 				<a href="../index.html" target="_blank">
			 				    <img src="../img/logo.png" class="topNav-img">
			 				</a>
			 			</div>		
			 			<div class="topNav-right">
							<!-- 搜索栏 -->
							<div class="detail-search">
								<!-- <label for=""><img src="../img/logo.jpg"</label> -->
								<form action="" class="layui-form">
									<div class="layui-input-block">
									    <input type="text" name="title" required  lay-verify="required" placeholder="输入楼盘名称" autocomplete="off" class="layui-input">
									    <button type="button" class="layui-btn layui-btn-danger" >搜新房</button>
									</div>
								</form>
							</div>
			 				<div class="topNav-line" >
			 					<!-- <a href="javascript:void(0);">别墅</a>|
			 					<a href="javascript:void(0);">住宅</a>|
			 					<a href="javascript:void(0);">公寓</a>|
			 					<a href="javascript:void(0);">商铺</a>|
			 					<a href="javascript:void(0);">写字楼</a>| -->
								<a href="javascript:void(0);">新房</a>|
			 					<a href="javascript:void(0);" id="xcx">小程序</a>|
			 					<a href="javascript:void(0);" id="APP">APP</a>
			 					<div id="xcxImgs">
			 						<img src="../img/ewm.jpg" >
			 					</div>
			 				</div>
			 					<img src="../img/login-icon.png" class="login-icon">
			 					<div class="login-box"></div>
			 			</div>	
			 </div>
		</div>
		
		<!-- 顶部导航栏 -->
		<div style="width: 1178px; height: 40px; margin: auto; display: flex; justify-content: space-between; align-items: center;">
			<div><a href="../index.html">首页</a> > <strong>新房</strong></div>
		</div>
		<!-- 顶部导航栏end -->
		<!-- 搜索end -->
		
		<!-- 分类筛选 -->
		<div class="type-filter">
			<ul>
				<li>
					<strong>位置</strong>
					<input type="radio" name="city" value="不限" title="不限">不限
					<input type="radio" name="city" value="禅城区" title="禅城区">禅城区
					<input type="radio" name="city" value="南海区" title="南海区">南海区
					<input type="radio" name="city" value="三水区" title="三水区">三水区
					<input type="radio" name="city" value="高明区" title="高明区">高明区
					<input type="radio" name="city" value="顺德区" title="顺德区">顺德区
				</li>
				<li>
					<strong>总价</strong>
					<input type="radio" name="price" value="不限" title="不限">不限
					<input type="radio" name="price" value="60以下" title="100以下">60以下
					<input type="radio" name="price" value="60-80万" title="100-150万">60-80万
					<input type="radio" name="price" value="80-100万" title="150-200万">80-100万
					<input type="radio" name="price" value="100-150万" title="200-300万">100-150万
					<input type="radio" name="price" value="150-200万" title="200-300万">150-200万
					<input type="radio" name="price" value="200万以上" title="500万以上">200万以上
				</li>
				<li>
					<strong>类型</strong>
					<input type="radio" name="type" value="不限" title="100不限别墅">不限
					<input type="radio" name="type" value="别墅" title="100别墅">别墅
					<input type="radio" name="type" value="住宅" title="住宅">住宅
					<input type="radio" name="type" value="公寓" title="公寓">公寓
					<input type="radio" name="type" value="商铺" title="200-300万">商铺
					<input type="radio" name="type" value="写字楼" title="200-300万">写字楼
				</li>
			</ul>
		</div>
		<!-- 分类筛选 -->
		
		<!-- 全部房源列表 -->
		<h2 style="width: 1178px;text-align: left;margin: auto;">为您找到<span style="color: #00FF00;" id="hourseCount"></span>个新房</h2>
		<div id="orderList" class="order-box">
		</div>
		<!-- 全部房源列表end -->
		
		<!-- 分页 -->
		<div style="text-align: center;">
			<div id="test1"></div>
		</div>
		<!-- 分页 -->
		<!-- 页脚 -->
		<iframe  MARGINWIDTH=0 MARGINHEIGHT=0 HSPACE=0 VSPACE=0 FRAMEBORDER=0 SCROLLING=no src="footer.html" height="250px" width="100%" style="position:relative;bottom:0;left:0;min-width:1184px;"></iframe>
	</body>
	<script src="../lib/jquery3.41.js" type="text/javascript" charset="utf-8"></script>
	<script src="../layui-v2.5.5/layui/layui.js" type="text/javascript" charset="utf-8"></script>
	<script src="../js/index.js"></script>
	<script type="text/javascript">
		var serverUrl = 'http://47.113.113.156:8080/'
		
		function ondetail(id){
			window.location.href="detail.html?id=" + id
		}
		
		// 分类
		$("input[type='radio']").on("click",function(){
			let type = $(this).val()
			console.log($(this).val());
			
			// tenementSituation  //类型
			// estateDistrict		//区域
			// totalPrice		//总价

			// $.ajax({
			// 	type:'post',
			// 	url: serverUrl + '/cf-new-house/findAll',
			// 	data:{
			// 	"offset": (e.curr),
			// 	"pagesize": e.limit-2
			// 	},
			// 	success:function(res){
			// 	console.log(res.data)
			// 		$('#hourseCount').text(res.data.length)
			// 		$("#orderList").empty();
					
			// 		for(let item of res.data){
			// 			let	orderItem = `<div class="order-item" onclick="ondetail(${item.cfNewHouse.id})">
			// 								<div style="width: 232px; height: 200px;"><img style="width: 100%;height: 100%;" src="../img/6f51344f46a796a86e999680fa60348.jpg" ></div>
			// 								<div style="width: 480px; margin-left: 35px;">
			// 									<h2>${item.cfNewHouse.estateName}</h2>
			// 									<p>面积:  77-139平方</p>
			// 									<p>户型: 3室-4室</p>
			// 									<p>地址: ${item.cfNewHouse.salesAddress}</p>
			// 								</div>
			// 								<div style="width: 150px;">
			// 									${item.cfNewHouse.unitPrice}元/平方
			// 								</div>
			// 							</div>`
			// 			$('#orderList').append(orderItem)
			// 		}
			// 	}
			// })
		})
		
		//分页
		var count = ''
		$.ajax({
		  type:'post',
		  async:false,
		  url: serverUrl + '/cf-new-house/findAll',
		  data:{
			   "offset": 1,
			   "pagesize": 1
		  },
		  success:function(res){
				count = res.count
				console.log(count)
		  }
		})
		
		
		layui.use('laypage', function(){
		  var laypage = layui.laypage;
			laypage.render({
				elem: 'test1' 
				,count: count,
				jump:function(e,first){
					$.ajax({
						type:'post',
						url: serverUrl + '/cf-new-house/findAll',
						data:{
						   "offset": (e.curr),
						   "pagesize": (e.limit)
						},
						success:function(res){
							$('#hourseCount').text(res.count)
							$("#orderList").empty();
							for(let item of res.data){
								let coverImg = item.cfEffectImgs[0].effectImg
								let	orderItem = `<div class="order-item" onclick="ondetail(${item.cfNewHouse.id})">
													<div style="width: 232px; height: 200px;"><img style="width: 100%;height: 100%;" src="${coverImg}" ></div>
													<div style="width: 480px; margin-left: 35px;">
														<h2>${item.cfNewHouse.estateName}</h2>
														<p>面积:  77-139平方</p>
														<p>户型: 3室-4室</p>
														<p>地址: ${item.cfNewHouse.salesAddress}</p>
													</div>
													<div style="width: 150px;">
														${item.cfNewHouse.unitPrice}元/平方
													</div>
												</div>`
								$('#orderList').append(orderItem)
							}
						}
					})
				}
			});
		});
	   
		
		
		
	</script>
</html>

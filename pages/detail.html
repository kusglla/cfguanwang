<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<title>新房网_佛山房产_佛山楼盘_佛山新房_佛山房价_佛山买房【采房网】</title>
		<link rel="stylesheet" type="text/css" href="../layui-v2.5.5/layui/css/layui.css" media="all"/>

	    <link rel="stylesheet" href="../css/detail.css">
	</head>
	<body>
		<!--导航栏--->
		<div class="detail-nav">
			<div class="topNav">
			 		    <div class="topNav-left">
			 				<img src="../img/logo.png" class="topNav-img">	
			 			</div>		
			 			<div class="topNav-right">
							<!-- 搜索栏 -->
							<div class="detail-search">
								<!-- <label for=""><img src="../img/logo.jpg"</label> -->
								<form action="" class="layui-form">
									<div class="layui-input-block">
									    <input type="text" name="title" required  lay-verify="required" placeholder="输入楼盘名称" autocomplete="off" class="layui-input">
									    <button type="button" class="layui-btn layui-btn-danger" >搜新房</button>
									</div>
								</form>
							</div>
			 				<div class="topNav-line" >
			 					<!-- <a href="javascript:void(0);">别墅</a>|
			 					<a href="javascript:void(0);">住宅</a>|
			 					<a href="javascript:void(0);">公寓</a>|
			 					<a href="javascript:void(0);">商铺</a>|
			 					<a href="javascript:void(0);">写字楼</a>| -->
								<a href="javascript:void(0);">新房</a>|
			 					<a href="javascript:void(0);" id="xcx">小程序</a>|
			 					<a href="javascript:void(0);" id="APP">APP</a>
			 					<div id="xcxImgs">
			 						<img src="../img/ewm.jpg" >
			 					</div>
			 				</div>
			 					<img src="../img/login-icon.png" class="login-icon">
			 					<div class="login-box"></div>
			 			</div>	
			 </div>
		</div>
		
		<!-- 顶部导航栏 -->
		<div class="detail-top">
			<div class="detail-left">
				<span>您的位置 : </span>
				<a href="../index.html">首页 > </a> 
				<a href="more.html">新房 > </a> 
				<a class="detail-icon">房屋详情</a>
			</div>
			<!-- <div>服务热线400-009-9900</div> -->
		</div>
		<!-- 顶部导航栏end -->
		
		
		<!-- 搜索栏end -->
		
		
		<!-- 房屋图片详情 -->
		<div id="hourmain">
			<div class="layui-tab layui-tab-card"  style="height: 320px;width: 50%;">
			  <div class="layui-tab-content">
			    <div class="layui-tab-item layui-show">
					<!-- 效果图轮播 -->
					<div class="layui-carousel" id="xgtCard">
					  <div carousel-item>
					  </div>
					</div>
					<!-- 效果图轮播 -->
				</div>
			    <div class="layui-tab-item">
					<!-- 实景图轮播 -->
					<div class="layui-carousel" id="sjtCard">
					  <div carousel-item>
					  </div>
					</div>
					<!-- 实景图图轮播 -->
				</div>
			    <div class="layui-tab-item">
					<!-- 样板图图轮播 -->
					<div class="layui-carousel" id="ybtCard">
					  <div carousel-item>
					  </div>
					</div>
					<!-- 样板图轮播 -->
				</div>
			    <div class="layui-tab-item">
					<!-- 区位图轮播 -->
					<div class="layui-carousel" id="qwtCard">
					  <div carousel-item>
					  </div>
					</div>
					<!-- 区位图轮播 -->
				</div>
			  </div>
			  <ul class="layui-tab-title">
			    <li class="layui-this">效果图</li>
			    <li>实景图</li>
			    <li>样板图</li>
			    <li>区位图</li>
			  </ul>
			</div>
			<div class="infor-right" style="margin-left:25px;flex: 1;" id="infoRight">
				
				
				
			</div>
		</div>
		<!-- 房屋图片详情end -->
		
		<!-- 户型介绍 -->
		<div class="layWrap">
			<p>户型介绍</p>
			<div style="display: flex;" id="hx-introduce">
				
			</div>
		</div>
		<!-- 户型介绍end -->
		
		
		<!-- 经纪人顾问 -->
		<div class="layWrap">
			<p>经纪人顾问</p>
			<div style="display: flex;" class="agent-box">
				<div style="display: flex; margin-left: 70px;">
					<img style="width: 90px;height: 90px;border-radius: 50%;" src="../img/sale1.jpg" >
					<div style="margin-left: 10px;">
						<p>陈永奇 <span style="color: #00FF00;">9.5</span>分</p>
						<p>15360661512</p>
					</div>
				</div>
				<div style="display: flex; margin-left: 70px;">
					<img style="width: 90px;height: 90px; border-radius: 50%;" src="../img/sale2.jpg" >
					<div style="margin-left: 10px;">
						<p>廖学书 <span style="color: #00FF00;">9.5</span>分</p>
						<p>15360661512</p>
					</div>
				</div>
				<div style="display: flex; margin-left: 70px;">
					<img style="width: 90px;height: 90px; border-radius: 50%;" src="../img/sale3.jpg" >
					<div style="margin-left: 10px;">
						<p>王处斯 <span style="color: #00FF00;">9.5</span>分</p>
						<p>15360661512</p>
					</div>
				</div>
				<div style="display: flex; margin-left: 70px;">
					<img style="width: 90px;height: 90px;   border-radius: 50%;" src="../img/sale4.jpg" >
					<div style="margin-left: 10px;">
						<p>冯嘉兴 <span style="color: #00FF00;">9.5</span>分</p>
						<p>15360661512</p>
					</div>
				</div>
			</div>
		</div>
		<!-- 经纪人顾问end -->
		
		<!-- 楼盘动态 -->
		<div class="layWrap" id="estateDynamic">
			<p>楼盘动态</p>
		</div>
		<!-- 楼盘动态end -->
		
		
		<!-- 楼盘信息 -->
		<div class="layWrap">
			<p>楼盘信息</p>
			<div id="xiangqingBox" style="display: flex;flex-wrap: wrap;">
				
			</div>
		</div>
		<!-- 楼盘信息end -->
		
		<!-- 页脚 -->
		<iframe  MARGINWIDTH=0 MARGINHEIGHT=0 HSPACE=0 VSPACE=0 FRAMEBORDER=0 SCROLLING=no src="footer.html" height="250px" width="100%"></iframe>
		<!-- 页脚end -->
	
	</body>
</html>


<script src="../lib/jquery3.41.js" type="text/javascript" charset="utf-8"></script>
<script src="../lib/jquery.params.js.js"></script>
<script src="../layui-v2.5.5/layui/layui.js" type="text/javascript" charset="utf-8"></script>
<script src="../js/index.js"></script>
<script>
	var serverUrl = 'http://47.113.113.156:8080/'


	$(function(){
		var id = $.query.get("id") || "";
		console.log(id)
		$.ajax({
			type:'post',
			url:serverUrl+"/cf-new-house/load",
			data:{id:id},
			success:function(res){
				var data = res.data
				console.log(data)
				
				var cfEffectImgs   = data.cfEffectImgs		//效果图集
				var cfSceneryImgs  = data.cfSceneryImgs		//实景图集
				var cfTemplateImgs = data.cfTemplateImgs		//样板图集
				var cfLocationImgs = data.cfLocationImgs		//区位图集
				var cfHouseTypesResp = data.cfHouseTypesResp
				
				
				/*----------------------------------------效果图轮播渲染----------------------------------------------*/
				for(let item of cfEffectImgs){
					let imgdiv = `<div><img src="${item.effectImg}" style="height:100%;width:100%"></div>`
					$('#xgtCard div').append(imgdiv)
				}
				layui.use('carousel', function(){
				  let carousel = layui.carousel;
				  carousel.render({
				    elem: '#xgtCard',
					width: '100%',
					arrow: 'always',
					indicator:'none',
					autoplay:false
				  });
				});
				
				
				/*----------------------------------------实景图轮播渲染----------------------------------------------*/
				for(let item of cfSceneryImgs){
					let imgdiv = `<div><img src="${item.sceneryImg}" style="height:100%;width:100%"></div>`
					$('#sjtCard div').append(imgdiv)
				}
				layui.use('carousel', function(){
				  let carousel = layui.carousel;
				  carousel.render({
				    elem: '#sjtCard',
					width: '100%',
					arrow: 'always',
					indicator:'none',
					autoplay:false
				  });
				});
				

				/*----------------------------------------样板图轮播渲染----------------------------------------------*/
				for(let item of cfTemplateImgs){
					let imgdiv = `<div><img src="${item.templateImg}" style="height:100%;width:100%"></div>`
					$('#ybtCard div').append(imgdiv)
				}
				layui.use('carousel', function(){
				  let carousel = layui.carousel;
				  carousel.render({
				    elem: '#ybtCard',
					width: '100%',
					arrow: 'always',
					indicator:'none',
					autoplay:false
				  });
				});
				
				/*----------------------------------------区位图轮播渲染----------------------------------------------*/
				for(let item of cfLocationImgs){
					let imgdiv = `<div><img src="${item.locationImg}" style="height:100%;width:100%"></div>`
					$('#qwtCard div').append(imgdiv)
				}
				layui.use('carousel', function(){
				  let carousel = layui.carousel;
				  carousel.render({
				    elem: '#qwtCard',
					width: '100%',
					arrow: 'always',
					indicator:'none',
					autoplay:false
				  });
				});
				
				/*-------------------------------楼盘介绍渲染--------------------------------*/
				let  infoRight = `<div>
									<div style="display:flex">
										<span style="height:50px;font-size:3.2em;height: 50px;font-weight: 600;color: rgb(105,105,105);">${data.cfNewHouse.estateName}</span>
										<div style="display: flex;align-items: flex-end; margin-left: 10px;">
											<a href="javascript:void(0);" class="sell-status"> ${data.cfNewHouse.salesStatus} </a>
										</div>
									</div>
									
									<p style="height: 60px;margin-top: 15px;">
										<span>价格:</span>
										<span class="price-number"> ${data.cfNewHouse.unitPrice} </span> <span class="price-unit">元/平方</span>
									</p>
									
									<div style="height: 55px; padding: 10px; justify-content: space-between; background: rgb(240,255,255);display: flex;">
										<div style="text-align: center;">
											<p style="color: rgb(122,162,192);font-size: 16px;padding: 0;">一站式购房平台</p>
											<p style="color: #999;">更多房源 精确匹配 丨 免费专车 好房一边看完</p>
										</div>
										<div>
											<a style="background: rgb(75,183,243);padding: 6px 20px;border-radius: 5px;color: white;">免费专车看房</a>
										</div>
									</div>
									
									<p id="hxText"><span>户型:</span> </p>
									<p><span>描述:</span> <span style="font-size: 18px;">${data.cfNewHouse.decorationDescribe}</span></p>
									<p><span>地址:</span> <span style="font-size: 18px;">${data.cfNewHouse.salesAddress}</span></p>
									
									<div style="height: 70px; padding: 10px; justify-content: space-between; background: rgb(240,255,255);display: flex;">
										<div style="margin: auto; width: 50px;">
											<img src="../img/phone-icon.png" >
										</div>
										<div class="phone-box"> 
											<p style="text-align: right;color: #999;">电话加密保护,放心向TA咨询</p>
											<p style="font-size: 3.2em;font-weight: 700;color: rgb(244,5,10);">${data.cfNewHouse.saleHousePhone}</p>
										</div>
										<div style="width: 100px;"></div>
									</div>
								</div>`
				$('#infoRight').append(infoRight)
				
				
				
				// 户型介绍渲染
				for(let item of cfHouseTypesResp){
					let  hxIntroduceDiv =	`<div style="width: 205px;height: 340px;border: 1px solid #e4e6f0; margin-left: 25px;">
											<img src="${item.cfHouseTypeImgs[0].houseTypeImg}"  style="height: 50%;width: 100%;">
											<div style="padding-left: 3px;line-height: 25px; padding: 16px 8px;">
												<p style="font-size: 14px; font-weight: 700">${item.room}房 ${item.hall}厅 ${item.toilet}卫</p>
												<p style="color: #9399a5;font-size: 14px;">建面 ${item.area}²</p>
												<p style="margin-bottom: 5px;font-size: 16px;color: #fa5741;">约${(item.area*data.cfNewHouse.unitPrice)/10000 }万/套</p>
											</div>
										</div>`
					$('#hx-introduce').append(hxIntroduceDiv)		
					
					
					let hxText = `<span>${item.area}m²</span><span>(${item.hall}房)</span>    `
					$('#hxText').append(hxText)
				}
				
				
				
				
				
				
				
				
				/*-------------------------------楼盘动态渲染--------------------------------*/
				let dtDiv = `<div>
								，${data.cfNewHouse.estateDynamic}
							</div>`
				$("#estateDynamic").append(dtDiv)
				
				
				
				/*-------------------------------楼盘信息渲染--------------------------------*/
				let dataInfoDiv = `<div style="width:50%;margin-top: 30px;">
					<ul>
						<li><span>占地面积:</span> ${data.cfNewHouse.floorSpace} m²</li>
						<li><span>建筑面积:</span>  ${data.cfNewHouse.floorArea} m²</li>
						<li><span>绿化率:</span> ${data.cfNewHouse.greeningRate}%</li>
						<li><span>容积率:</span> ${data.cfNewHouse.plotRatio}%</li>
						<li><span>总户数:</span> ${data.cfNewHouse.totalHouseholds}个</li>
						<li><span>车位:</span> ${data.cfNewHouse.carport}个</li>
						<li><span>物业类型:</span> ${data.cfNewHouse.tenementSituation}</li>
						<li><span>装修描述:</span> ${data.cfNewHouse.decorationDescribe}</li>
						<li><span>产权:</span> ${data.cfNewHouse.propertyRight}年</li>
					</ul>
				</div>
				<div style="width:50%;margin-top: 30px;">
					<ul>
						<li><span>售楼地址:</span> ${data.cfNewHouse.salesAddress}</li>
						<li><span>楼盘区域:</span> ${data.cfNewHouse.estateDistrict}</li>
						<li><span>楼盘地址:</span> ${data.cfNewHouse.estateAddress}</li>
						<li><span>售楼电话:</span> ${data.cfNewHouse.saleHousePhone}</li>
						<li><span>总户数:</span> ${data.cfNewHouse.totalHouseholds}</li>
						<li><span>价格:</span> 约${data.cfNewHouse.unitPrice}元/m²</li>
						<li><span>开盘时间:</span> ${data.cfNewHouse.openTime}</li>
						<li><span>交付时间:</span> ${data.cfNewHouse.deliveryTime}</li>
					</ul>
				</div>`
				$("#xiangqingBox").append(dataInfoDiv)
				
				  // var x= document.querySelector('#xiangqingBox').innerHTML
				 // x= x.replace("${data.cfNewHouse.floorSpace}",data.cfNewHouse.floorSpace)
				 // document.querySelector('.sdf').innerHTML=x
				  
			}
		})
		
		
		
		
		// 选项卡
		layui.use('element', function(){
		  var element = layui.element;
		  //一些事件监听
		  element.on('tab(demo)', function(data){
		    console.log(data);
		  });
		});
	})
</script>